generator client {
  provider = "prisma-client-js"
  output   = "prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model ApiKey {
  id         Int                        @id @default(autoincrement())
  userId     Int                        @map(name: "user_id")
  name       String
  digest     String                     @unique(map: "index_api_keys_on_digest")
  createdAt  DateTime                   @map(name: "created_at")

  @@index([userId], map: "index_api_keys_on_user_id")
  @@map(name: "api_keys")
}

model AttendanceRecord {
  id           Int                        @id @default(autoincrement())
  workplaceId  Int                        @map(name: "workplace_id")
  event        String
  recordedAt   DateTime                   @map(name: "recorded_at")
  createdAt    DateTime                   @map(name: "created_at")

  @@index([workplaceId], map: "index_attendance_records_on_workplace_id")
  @@map(name: "attendance_records")
}

model GoogleAuthenticatedUser {
  id         Int                        @id @default(autoincrement())
  userId     Int                        @map(name: "user_id")
  uid        String                     @unique(map: "index_google_authenticated_users_on_uid")
  createdAt  DateTime                   @map(name: "created_at")

  @@index([userId], map: "index_google_authenticated_users_on_user_id")
  @@map(name: "google_authenticated_users")
}

model User {
  id         Int                        @id @default(autoincrement())
  createdAt  DateTime                   @map(name: "created_at")

  @@map(name: "users")
}

model Workplace {
  id         Int                        @id @default(autoincrement())
  userId     Int                        @map(name: "user_id")
  name       String
  createdAt  DateTime                   @map(name: "created_at")
  updatedAt  DateTime                   @map(name: "updated_at")

  @@index([userId], map: "index_workplaces_on_user_id")
  @@map(name: "workplaces")
}
